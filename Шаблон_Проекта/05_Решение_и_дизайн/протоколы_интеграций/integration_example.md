# Пример протокола интеграции

## Интеграция с CRM системой

### Общая информация
- **Система:** Salesforce CRM
- **Тип интеграции:** REST API
- **Частота синхронизации:** Каждые 15 минут
- **Направление:** Двусторонний обмен

### Синхронизируемые сущности

#### Клиенты (Customers)
**Направление:** CRM → DWH
**Маппинг полей:**
| CRM поле | DWH поле | Тип | Обязательное |
|----------|----------|-----|--------------|
| Account.Id | customer_id | string | Да |
| Account.Name | customer_name | string | Да |
| Account.Industry | industry_code | string | Нет |

#### Сделки (Deals)  
**Направление:** CRM → DWH
**Фильтры:** Только закрытые сделки за последние 2 года

### Обработка ошибок
- **Retry policy:** 3 попытки с экспоненциальной задержкой
- **Timeout:** 30 секунд на запрос
- **Логирование:** Все запросы и ответы в audit log
- **Уведомления:** Email при критичных ошибках

### Мониторинг
- **Метрики:** количество обработанных записей, время выполнения
- **Алерты:** при отсутствии данных > 1 часа
- **Dashboard:** статус интеграций в реальном времени
